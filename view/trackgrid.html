{% extends "view/rootpage.html" %}
{% block title %}Tracking Grid{% endblock %}

{% block head_extra %}
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script>

function request_table() {
	$.get("trackgrid?t={{t.key.id()}}&raw=1",function(data, status) {
		$('#grid').html(data);
	});
}

$(document).ready(function () {
	request_table();
	setInterval("request_table()", 5000);
});
</script>
{% endblock %}

{% block content %}
	<h2><i class="fa fa-table"></i> Tracking Grid</h2>
	<div class="panel panel-primary">
	<div class="panel-heading">Rooms</div>
		<div id="grid" class="panel-body">
			Loading...
		</div>
	</div>
	<hr/>
	<h2>Control Panel</h2>
	<ul>
		<li><a href="/reset_rooms?t={{t.key.id()}}">Reset All Room Status</a></li>
	</ul>
{% endblock %}
